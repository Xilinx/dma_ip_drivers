


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="_static/js/gtm.js"></script>
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="_static/js/linkid.js"></script>		
    <script type="text/javascript" src="_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2023.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Global Functions" href="qdma_linux_export_functions.html" />
    <link rel="prev" title="Enumerations" href="qdma_linux_export_enums.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> QDMA Linux Driver
          

          
          </a>

          
            
            
              <div class="version">
                2023.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">QDMA Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="system-requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building and Installing Software Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-app.html">User Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="devguide.html">Developers Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="qdma_linux_export.html">QDMA Linux Driver Exported APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="qdma_linux_export_defines.html">Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="qdma_linux_export_enums.html">Enumerations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Data Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#struct-drv-mode-name">struct drv_mode_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-global-csr-conf">struct global_csr_conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-cmpl-ctrl">struct qdma_cmpl_ctrl</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-dev-conf">struct qdma_dev_conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-q-state">struct qdma_q_state</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-q-type">struct qdma_q_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-queue-conf">struct qdma_queue_conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-queue-count">struct qdma_queue_count</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-request">struct qdma_request</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-sw-sg">struct qdma_sw_sg</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-ul-cmpt-info">struct qdma_ul_cmpt_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#struct-qdma-version-info">struct qdma_version_info</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="qdma_linux_export_functions.html">Global Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="qdma_design.html">QDMA Linux Driver Design Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="qdma_usecases.html">QDMA Linux Driver UseCases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">QDMA Performance</a></li>
</ul>

            
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="_sources/qdma_linux_export_structs.rst.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QDMA Linux Driver</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="devguide.html">Developers Guide</a> &raquo;</li>
        
          <li><a href="qdma_linux_export.html">QDMA Linux Driver Exported APIs</a> &raquo;</li>
        
      <li>Data Structures</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/qdma_linux_export_structs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-structures">
<span id="cid-libqdma-struct"></span><span id="doxid-group-libqdma-struct"></span><h1>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="struct-drv-mode-name">
<span id="cid-drv-mode-name"></span><span id="doxid-structdrv-mode-name"></span><span id="index-0"></span><h2>struct drv_mode_name<a class="headerlink" href="#struct-drv-mode-name" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>Structure to hold the driver name and mode</p>
<p>Mode can be set for each PF or VF group using module parameters Refer enum qdma_drv_mode for different mode options</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-drv-mode-name-drv-mode">
<span id="doxid-structdrv-mode-name-1a1d4257c25b4178d82fbd13ed282e417c"></span><span></span><span class="k">enum</span> <a class="reference internal" href="qdma_linux_export_enums.html#doxid-group-libqdma-enums-1gada00378b695c456022546aec7d0e9e32"><span class="std std-ref">qdma_drv_mode</span></a><span></span> <span class="n">drv_mode</span>
</pre>
<p>Mode of the function</p>
<pre class="highlight title-code-block literal-block" id="cid-drv-mode-name-name">
<span id="doxid-structdrv-mode-name-1a7a689a355f387c592c2f3e45e2ba1f86"></span><span></span><span class="kt">char</span> <span class="n">name</span> <span class="p">[</span><span class="mi">20</span><span class="p">]</span>
</pre>
<p>Driver Name</p>
</div>
<div class="section" id="struct-global-csr-conf">
<span id="cid-global-csr-conf"></span><span id="doxid-structglobal-csr-conf"></span><span id="index-1"></span><h2>struct global_csr_conf<a class="headerlink" href="#struct-global-csr-conf" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>global CSR configuration</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-global-csr-conf-ring-sz">
<span id="doxid-structglobal-csr-conf-1a267c2b0898276a84d13c1206e10d2672"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ring_sz</span> <span class="p">[</span><span class="n">QDMA_GLOBAL_CSR_ARRAY_SZ</span><span class="p">]</span>
</pre>
<p>Descriptor ring size ie. queue depth</p>
<pre class="highlight title-code-block literal-block" id="cid-global-csr-conf-c2h-timer-cnt">
<span id="doxid-structglobal-csr-conf-1a42511a376379a905e6d7566cb1198523"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">c2h_timer_cnt</span> <span class="p">[</span><span class="n">QDMA_GLOBAL_CSR_ARRAY_SZ</span><span class="p">]</span>
</pre>
<p>C2H timer count list</p>
<pre class="highlight title-code-block literal-block" id="cid-global-csr-conf-c2h-cnt-th">
<span id="doxid-structglobal-csr-conf-1a75b3e18b9bbee2f3a2336fc7539621a0"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">c2h_cnt_th</span> <span class="p">[</span><span class="n">QDMA_GLOBAL_CSR_ARRAY_SZ</span><span class="p">]</span>
</pre>
<p>C2H counter threshold list</p>
<pre class="highlight title-code-block literal-block" id="cid-global-csr-conf-c2h-buf-sz">
<span id="doxid-structglobal-csr-conf-1a66e744c84d47c7b26737c770a0a993d4"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">c2h_buf_sz</span> <span class="p">[</span><span class="n">QDMA_GLOBAL_CSR_ARRAY_SZ</span><span class="p">]</span>
</pre>
<p>C2H buffer size list</p>
<pre class="highlight title-code-block literal-block" id="cid-global-csr-conf-wb-intvl">
<span id="doxid-structglobal-csr-conf-1a4a09a626ca50257f82e8c316996154ec"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">wb_intvl</span>
</pre>
<p>Writeback interval</p>
</div>
<div class="section" id="struct-qdma-cmpl-ctrl">
<span id="cid-qdma-cmpl-ctrl"></span><span id="doxid-structqdma-cmpl-ctrl"></span><span id="index-2"></span><h2>struct qdma_cmpl_ctrl<a class="headerlink" href="#struct-qdma-cmpl-ctrl" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>Completion control</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-cmpl-ctrl-cnt-th-idx">
<span id="doxid-structqdma-cmpl-ctrl-1abfc469dc23d43012300ec185b184b43c"></span><span></span><span class="n">u8</span> <span class="nl">cnt_th_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p><a class="reference internal" href="#doxid-structglobal-csr-conf-1a75b3e18b9bbee2f3a2336fc7539621a0"><span class="std std-ref">global_csr_conf.c2h_cnt_th</span></a> [N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-cmpl-ctrl-timer-idx">
<span id="doxid-structqdma-cmpl-ctrl-1a2ba8b93f2e7fb0e49ed50df8892ed9f0"></span><span></span><span class="n">u8</span> <span class="nl">timer_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p><a class="reference internal" href="#doxid-structglobal-csr-conf-1a42511a376379a905e6d7566cb1198523"><span class="std std-ref">global_csr_conf.c2h_timer_cnt</span></a> [N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-cmpl-ctrl-trigger-mode">
<span id="doxid-structqdma-cmpl-ctrl-1afa7aba3bd3582c8ca6e2067f5e7f80d3"></span><span></span><span class="n">u8</span> <span class="nl">trigger_mode</span> <span class="p">:</span><span class="mi">3</span>
</pre>
<p>tigger_mode</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-cmpl-ctrl-en-stat-desc">
<span id="doxid-structqdma-cmpl-ctrl-1abc9f3df4a90f40c001731d14fb070cd7"></span><span></span><span class="n">u8</span> <span class="nl">en_stat_desc</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>enable status desc. for CMPT</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-cmpl-ctrl-cmpl-en-intr">
<span id="doxid-structqdma-cmpl-ctrl-1ab5f33e2efb09e61be66f6d264639cab2"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_en_intr</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>enable interrupt for CMPT</p>
</div>
<div class="section" id="struct-qdma-dev-conf">
<span id="cid-qdma-dev-conf"></span><span id="doxid-structqdma-dev-conf"></span><span id="index-3"></span><h2>struct qdma_dev_conf<a class="headerlink" href="#struct-qdma-dev-conf" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>Defines the per-device qdma property.</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-pdev">
<span id="doxid-structqdma-dev-conf-1ad94710251cab15f76e4784c9add9c009"></span><span></span><span class="k">struct</span> <span class="n">pci_dev</span><span class="o">*</span> <span class="n">pdev</span>
</pre>
<p>pointer to pci_dev</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-qsets-max">
<span id="doxid-structqdma-dev-conf-1ad601e820f22f1490cfbaadd6f77b372e"></span><span></span><span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">qsets_max</span>
</pre>
<p>Maximum number of queue pairs per device</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-rsvd2">
<span id="doxid-structqdma-dev-conf-1ac5ae57008064a5c53e1739a809ebd008"></span><span></span><span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">rsvd2</span>
</pre>
<p>Reserved</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-zerolen-dma">
<span id="doxid-structqdma-dev-conf-1a186714981051de022a9d3324b26ca058"></span><span></span><span class="n">u8</span> <span class="nl">zerolen_dma</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates whether zero length DMA is allowed or not</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-master-pf">
<span id="doxid-structqdma-dev-conf-1a9ebe9df1b95044213781c7915c2295ad"></span><span></span><span class="n">u8</span> <span class="nl">master_pf</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates whether the current pf is master_pf or not</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-intr-moderation">
<span id="doxid-structqdma-dev-conf-1aa68acda3b40f233d2417a5df4ddc14a6"></span><span></span><span class="n">u8</span> <span class="nl">intr_moderation</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>moderate interrupt generation</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-rsvd1">
<span id="doxid-structqdma-dev-conf-1a96d8117b8de2f5a8cbf64ea7063fccef"></span><span></span><span class="n">u8</span> <span class="nl">rsvd1</span> <span class="p">:</span><span class="mi">5</span>
</pre>
<p>Reserved1</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-vf-max">
<span id="doxid-structqdma-dev-conf-1a1181cf69efbbd62ddc4fbda29eee7e88"></span><span></span><span class="n">u8</span> <span class="n">vf_max</span>
</pre>
<p>Maximum number of virtual functions for current physical function</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-intr-rngsz">
<span id="doxid-structqdma-dev-conf-1abdd65e022d4aba3b838cb0483097acb3"></span><span></span><span class="n">u8</span> <span class="n">intr_rngsz</span>
</pre>
<p>Interrupt ring size</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-msix-qvec-max">
<span id="doxid-structqdma-dev-conf-1a4e6669de97901154e0351db57b3a20f1"></span><span></span><span class="n">u16</span> <span class="n">msix_qvec_max</span>
</pre>
<p>interrupt:</p>
<ul class="simple">
<li>MSI-X only max of QDMA_DEV_MSIX_VEC_MAX per function, 32 in Versal</li>
<li>1 vector is reserved for user interrupt</li>
<li>1 vector is reserved mailbox</li>
<li>1 vector on pf0 is reserved for error interrupt</li>
<li>the remaining vectors will be used for queues max. of vectors used for queues. libqdma update w/ actual #</li>
</ul>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-user-msix-qvec-max">
<span id="doxid-structqdma-dev-conf-1a3282ef24eea6f4e0156fdb68df4ae740"></span><span></span><span class="n">u16</span> <span class="n">user_msix_qvec_max</span>
</pre>
<p>Max user msix vectors</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-data-msix-qvec-max">
<span id="doxid-structqdma-dev-conf-1a27006da4091d1be72772d1e67fa6a295"></span><span></span><span class="n">u16</span> <span class="n">data_msix_qvec_max</span>
</pre>
<p>Max data msix vectors</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-uld">
<span id="doxid-structqdma-dev-conf-1a7d21996961e054ff50baa8c133205b2c"></span><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">uld</span>
</pre>
<p>upper layer data, i.e. callback data</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-qdma-drv-mode">
<span id="doxid-structqdma-dev-conf-1a466fbe403f645670bb3ea9a352affcbf"></span><span></span><span class="k">enum</span> <a class="reference internal" href="qdma_linux_export_enums.html#doxid-group-libqdma-enums-1gada00378b695c456022546aec7d0e9e32"><span class="std std-ref">qdma_drv_mode</span></a><span></span> <span class="n">qdma_drv_mode</span>
</pre>
<p>qdma driver mode</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-name">
<span id="doxid-structqdma-dev-conf-1a64d6863fba518a4d2ed6a3154c5fb790"></span><span></span><span class="kt">char</span> <span class="n">name</span> <span class="p">[</span><span class="n">QDMA_DEV_NAME_MAXLEN</span><span class="p">]</span>
</pre>
<p>an unique string to identify the dev. current format: qdma[pf|vf][idx] filled in by libqdma</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-bar-num-config">
<span id="doxid-structqdma-dev-conf-1a7bed251b6b4b16507fbf803af8788fef"></span><span></span><span class="kt">char</span> <span class="n">bar_num_config</span>
</pre>
<p>dma config bar #, &lt; 0 not present</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-bar-num-user">
<span id="doxid-structqdma-dev-conf-1addde2029d0639ef0bbf077c6c9e7eefc"></span><span></span><span class="kt">char</span> <span class="n">bar_num_user</span>
</pre>
<p>AXI Master Lite(user bar)</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-bar-num-bypass">
<span id="doxid-structqdma-dev-conf-1ad0aa560262137ba2d13b67ab14395676"></span><span></span><span class="kt">char</span> <span class="n">bar_num_bypass</span>
</pre>
<p>AXI Bridge Master(bypass bar)</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-qsets-base">
<span id="doxid-structqdma-dev-conf-1a030cfdb26ef47de06176f6283dac3241"></span><span></span><span class="kt">int</span> <span class="n">qsets_base</span>
</pre>
<p>queue base for this function</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-bdf">
<span id="doxid-structqdma-dev-conf-1af1e165b08d1f631e58908846af7e70fc"></span><span></span><span class="n">u32</span> <span class="n">bdf</span>
</pre>
<p>device index</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-idx">
<span id="doxid-structqdma-dev-conf-1ad699e13e0430b3708032459bfa83e9f2"></span><span></span><span class="n">u32</span> <span class="n">idx</span>
</pre>
<p>index of device in device list</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-fp-user-isr-handler">
<span id="doxid-structqdma-dev-conf-1a9b48b44bf488db993747f49b817cf8ad"></span><span></span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_user_isr_handler</span> <span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dev_hndl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">uld</span><span class="p">)</span>
</pre>
<p>user interrupt, if null, default libqdma handler is used</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_hndl</td>
<td>Device Handler</td>
</tr>
<tr class="row-even"><td>uld</td>
<td>upper layer data, i.e. callback data</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-fp-q-isr-top-dev">
<span id="doxid-structqdma-dev-conf-1a6c5647fe3ebd898bf60d540a8b6be983"></span><span></span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_q_isr_top_dev</span> <span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dev_hndl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">uld</span><span class="p">)</span>
</pre>
<p>Q interrupt top, per-device addtional handling code.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_hndl</td>
<td>Device Handler</td>
</tr>
<tr class="row-even"><td>uld</td>
<td>upper layer data, i.e. callback data</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-fp-flr-free-resource">
<span id="doxid-structqdma-dev-conf-1ac0f6bb9a6ce11b8f5f1119e72f9955b8"></span><span></span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_flr_free_resource</span> <span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dev_hndl</span><span class="p">)</span>
</pre>
<p>for freeing any resources in FLR process</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dev_hndl</td>
<td>Device Handler</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-dev-conf-debugfs-dev-root">
<span id="doxid-structqdma-dev-conf-1a30abd21b3456470a5cba8e6af702103b"></span><span></span><span class="kt">void</span><span class="o">*</span> <span class="n">debugfs_dev_root</span>
</pre>
<p>root path for debugfs</p>
</div>
<div class="section" id="struct-qdma-q-state">
<span id="cid-qdma-q-state"></span><span id="doxid-structqdma-q-state"></span><span id="index-4"></span><h2>struct qdma_q_state<a class="headerlink" href="#struct-qdma-q-state" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>display queue state in a string buffer</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-state-qstate">
<span id="doxid-structqdma-q-state-1a9583aac3bb7bd9e171fd4cbaa4f4dd54"></span><span></span><span class="k">enum</span> <a class="reference internal" href="qdma_linux_export_enums.html#doxid-group-libqdma-enums-1ga4e31046f711ac398650a6a56f3c0c0ce"><span class="std std-ref">q_state_t</span></a><span></span> <span class="n">qstate</span>
</pre>
<p>current q state</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-state-qidx">
<span id="doxid-structqdma-q-state-1a88369072533880192fa1010cd48b445c"></span><span></span><span class="n">u32</span> <span class="nl">qidx</span> <span class="p">:</span><span class="mi">24</span>
</pre>
<p>0xFFFF: libqdma choose the queue idx 0 ~ ( <a class="reference internal" href="#doxid-structqdma-dev-conf-1ad601e820f22f1490cfbaadd6f77b372e"><span class="std std-ref">qdma_dev_conf.qsets_max</span></a> - 1) the calling function choose the queue idx</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-state-st">
<span id="doxid-structqdma-q-state-1a53707522e44fa5ede6911aa1654356e8"></span><span></span><span class="n">u32</span> <span class="nl">st</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates the streaming mode</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-state-q-type">
<span id="doxid-structqdma-q-state-1ac27c4b076a58650e9aae2ac7bac524e9"></span><span></span><span class="k">enum</span> <a class="reference internal" href="qdma_linux_export_enums.html#doxid-group-libqdma-enums-1ga65e1a42224ea5650b05097504931ec7e"><span class="std std-ref">queue_type_t</span></a><span></span> <span class="n">q_type</span>
</pre>
<p>queue type</p>
</div>
<div class="section" id="struct-qdma-q-type">
<span id="cid-qdma-q-type"></span><span id="doxid-structqdma-q-type"></span><span id="index-5"></span><h2>struct qdma_q_type<a class="headerlink" href="#struct-qdma-q-type" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>Queue type</p>
<p>Look up table for name of the queue type and enum</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-type-name">
<span id="doxid-structqdma-q-type-1afb5b6562883d90369b8ec5366b24b831"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span>
</pre>
<p>Queue type name</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-q-type-q-type">
<span id="doxid-structqdma-q-type-1aec168868f58bfcba300cac73b29e4b5b"></span><span></span><span class="k">enum</span> <a class="reference internal" href="qdma_linux_export_enums.html#doxid-group-libqdma-enums-1ga65e1a42224ea5650b05097504931ec7e"><span class="std std-ref">queue_type_t</span></a><span></span> <span class="n">q_type</span>
</pre>
<p>Queue type</p>
</div>
<div class="section" id="struct-qdma-queue-conf">
<span id="cid-qdma-queue-conf"></span><span id="doxid-structqdma-queue-conf"></span><span id="index-6"></span><h2>struct qdma_queue_conf<a class="headerlink" href="#struct-qdma-queue-conf" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>qdma configuration parameters</p>
<p><a class="reference internal" href="#doxid-structqdma-queue-conf"><span class="std std-ref">qdma_queue_conf</span></a> defines the per-dma Q property.</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-qidx">
<span id="doxid-structqdma-queue-conf-1a4725b7966fef7ecded5f3386989b0f9e"></span><span></span><span class="n">u32</span> <span class="nl">qidx</span> <span class="p">:</span><span class="mi">24</span>
</pre>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>qidx</td>
<td>0xFFFF: libqdma choose the queue idx 0 ~ ( <a class="reference internal" href="#doxid-structqdma-dev-conf-1ad601e820f22f1490cfbaadd6f77b372e"><span class="std std-ref">qdma_dev_conf.qsets_max</span></a> - 1) the calling function choose the queue idx</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-st">
<span id="doxid-structqdma-queue-conf-1a5ef48dd5edb988b4e1c9fea566ef16de"></span><span></span><span class="n">u32</span> <span class="nl">st</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>config flags: byte #1 Indicates the streaming mode</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-q-type">
<span id="doxid-structqdma-queue-conf-1ad3a0b7319b6748762952e5d6527abee3"></span><span></span><span class="n">u32</span> <span class="nl">q_type</span> <span class="p">:</span><span class="mi">2</span>
</pre>
<p>queue_type_t</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-pipe">
<span id="doxid-structqdma-queue-conf-1a0ebb543f4c02ae1b84da97b0804dfa8c"></span><span></span><span class="n">u32</span> <span class="nl">pipe</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>SDx only: inter-kernel communication pipe</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-irq-en">
<span id="doxid-structqdma-queue-conf-1a7997065967ec5f9b763fcdd9f221210c"></span><span></span><span class="n">u32</span> <span class="nl">irq_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>poll or interrupt</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-desc-rng-sz-idx">
<span id="doxid-structqdma-queue-conf-1a5285a4bd136b9a7a10ab0f0f9316f630"></span><span></span><span class="n">u32</span> <span class="nl">desc_rng_sz_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p>descriptor ring global_csr_conf.ringsz[N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-wb-status-en">
<span id="doxid-structqdma-queue-conf-1a9bfc8a2ced31cb75c3afbd266aa1f985"></span><span></span><span class="n">u8</span> <span class="nl">wb_status_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>config flags: byte #2 writeback enable, disabled for ST C2H</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-status-acc-en">
<span id="doxid-structqdma-queue-conf-1a98ce6f59823abe6ffffbb3113f01fcbe"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_status_acc_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>sw context.cmpl_status_acc_en</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-status-pend-chk">
<span id="doxid-structqdma-queue-conf-1ab3f98b2a9df69f3e3f4dd495b439c482"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_status_pend_chk</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>sw context.cmpl_stauts_pend_chk</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-desc-bypass">
<span id="doxid-structqdma-queue-conf-1accf91e2649412db949523d94843b6768"></span><span></span><span class="n">u8</span> <span class="nl">desc_bypass</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>send descriptor to bypass out</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-pfetch-en">
<span id="doxid-structqdma-queue-conf-1ad10853ae32442a8042e94333e8588d0c"></span><span></span><span class="n">u8</span> <span class="nl">pfetch_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>descriptor prefetch enable control</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-fetch-credit">
<span id="doxid-structqdma-queue-conf-1aa80439aa5fea3c627133930d5093d1cc"></span><span></span><span class="n">u8</span> <span class="nl">fetch_credit</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>sw context.frcd_en[32]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-st-pkt-mode">
<span id="doxid-structqdma-queue-conf-1a358b948e6ee3466d9776659abe2e532c"></span><span></span><span class="n">u8</span> <span class="nl">st_pkt_mode</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>st_pkt_mode</td>
<td>SDx only: ST packet mode (i.e., with TLAST to identify the packet boundary)</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-c2h-buf-sz-idx">
<span id="doxid-structqdma-queue-conf-1ab448e6bcba7a10d8692e3ca3cc473bd3"></span><span></span><span class="n">u8</span> <span class="nl">c2h_buf_sz_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p>config flags: byte #3 <a class="reference internal" href="#doxid-structglobal-csr-conf-1a66e744c84d47c7b26737c770a0a993d4"><span class="std std-ref">global_csr_conf.c2h_buf_sz</span></a> [N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-rng-sz-idx">
<span id="doxid-structqdma-queue-conf-1a5fc8e7e0c08399b0c88ef9921b308302"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_rng_sz_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p>ST C2H Completion/Writeback ring global_csr_conf.ringsz[N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-desc-sz">
<span id="doxid-structqdma-queue-conf-1ab5bf52ca755013ebbc6130f2ceb21489"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_desc_sz</span> <span class="p">:</span><span class="mi">2</span>
</pre>
<p>config flags: byte #4 C2H ST cmpt + immediate data, desc_sz_t</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-stat-en">
<span id="doxid-structqdma-queue-conf-1a58e2059853cb51a920e004ab398cb2d6"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_stat_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>enable status desc. for CMPT</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-udd-en">
<span id="doxid-structqdma-queue-conf-1afb9472bf4fdf89e6f2f4ba4612e5f3eb"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_udd_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>C2H Completion entry user-defined data</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-timer-idx">
<span id="doxid-structqdma-queue-conf-1aa8fd5c635a619469ab76d5ca5d5af5b3"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_timer_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p><a class="reference internal" href="#doxid-structglobal-csr-conf-1a42511a376379a905e6d7566cb1198523"><span class="std std-ref">global_csr_conf.c2h_timer_cnt</span></a> [N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-cnt-th-idx">
<span id="doxid-structqdma-queue-conf-1a1d9b8d8d7652ce5ebdf0ab8740eaf65e"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_cnt_th_idx</span> <span class="p">:</span><span class="mi">4</span>
</pre>
<p>config flags byte #5 <a class="reference internal" href="#doxid-structglobal-csr-conf-1a75b3e18b9bbee2f3a2336fc7539621a0"><span class="std std-ref">global_csr_conf.c2h_cnt_th</span></a> [N]</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-trig-mode">
<span id="doxid-structqdma-queue-conf-1a78fbde12289ee7cd81438fbee7e5f88b"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_trig_mode</span> <span class="p">:</span><span class="mi">3</span>
</pre>
<p>tigger_mode_t</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-en-intr">
<span id="doxid-structqdma-queue-conf-1aec55d584f809b11d85a1cd1e215e3f87"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_en_intr</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>enable interrupt for CMPT</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-sw-desc-sz">
<span id="doxid-structqdma-queue-conf-1a0efbbcf018bb107b57a4609013b275e9"></span><span></span><span class="n">u8</span> <span class="nl">sw_desc_sz</span> <span class="p">:</span><span class="mi">2</span>
</pre>
<p>config flags byte #6 SW Context desc size, desc_sz_t</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-pfetch-bypass">
<span id="doxid-structqdma-queue-conf-1a2e712164964a9a58bf7f72a06aa7fdcf"></span><span></span><span class="n">u8</span> <span class="nl">pfetch_bypass</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>prefetch bypass en</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-cmpl-ovf-chk-dis">
<span id="doxid-structqdma-queue-conf-1aa23c0afdb4a8f88491ef2db4aa176c06"></span><span></span><span class="n">u8</span> <span class="nl">cmpl_ovf_chk_dis</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>OVF_DIS C2H ST over flow disable</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-port-id">
<span id="doxid-structqdma-queue-conf-1afcc4dc55eeb6f8d8fcc1c7045e313541"></span><span></span><span class="n">u8</span> <span class="nl">port_id</span> <span class="p">:</span><span class="mi">3</span>
</pre>
<p>Port ID</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-at">
<span id="doxid-structqdma-queue-conf-1af14e4c7cf50aad799e47e4a9ba64a594"></span><span></span><span class="n">u8</span> <span class="nl">at</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Address Translation</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-adaptive-rx">
<span id="doxid-structqdma-queue-conf-1a36573a705d8a1cfbd54180daced79cb2"></span><span></span><span class="n">u8</span> <span class="nl">adaptive_rx</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Adaptive rx counter threshold</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-latency-optimize">
<span id="doxid-structqdma-queue-conf-1a0b3b7459a543fbc95f8ebc0d1cf2a23c"></span><span></span><span class="n">u8</span> <span class="nl">latency_optimize</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>optimize for latency</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-init-pidx-dis">
<span id="doxid-structqdma-queue-conf-1a2d8750b49aa95e7b72896a4993ea9b1f"></span><span></span><span class="n">u8</span> <span class="nl">init_pidx_dis</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Disable pidx initialiaztion for ST C2H</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-mm-channel">
<span id="doxid-structqdma-queue-conf-1a11887eac0852b13316c0e658c94b2644"></span><span></span><span class="n">u8</span> <span class="nl">mm_channel</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>MM Channel</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-quld">
<span id="doxid-structqdma-queue-conf-1a260f0d4ec91e373f3bc41711a278c175"></span><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">quld</span>
</pre>
<p>user provided per-Q irq handler</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-pidx-acc">
<span id="doxid-structqdma-queue-conf-1a2f96bcbc59435c682ac1d8c043082a9a"></span><span></span><span class="n">u32</span> <span class="nl">pidx_acc</span> <span class="p">:</span><span class="mi">8</span>
</pre>
<p>acummulate PIDX to batch packets</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-fp-descq-isr-top">
<span id="doxid-structqdma-queue-conf-1abe3d85ad8047c94af9360fa4edd34b26"></span><span></span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_descq_isr_top</span> <span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">qhndl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">quld</span><span class="p">)</span>
</pre>
<p>Q interrupt top, per-queue additional handling code for example, network rx napi_schedule(&amp;Q-&gt;napi)</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>qhndl</td>
<td>Queue handle</td>
</tr>
<tr class="row-even"><td>quld</td>
<td>Queue ID</td>
</tr>
</tbody>
</table>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-fp-descq-c2h-packet">
<span id="doxid-structqdma-queue-conf-1a8fa4c78e81b406ff7757220dbf8ca2f7"></span><span></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_descq_c2h_packet</span> <span class="p">)(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">qhndl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">quld</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">len</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">sgcnt</span><span class="p">,</span> <span class="k">struct</span> <span class="n">qdma_sw_sg</span> <span class="o">*</span><span class="n">sgl</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">udd</span><span class="p">)</span>
</pre>
<p>optional rx packet handler: called from irq BH (i.e.qdma_queue_service_bh())</p>
<ol class="loweralpha simple">
<li>do NOT modify any field of sgl b. if zero copy, do a get_page() to prevent page freeing c. do loop through the sgl with sg-&gt;next and stop at sgcnt. the last sg may not have sg-&gt;next = NULL</li>
</ol>
<p>A single packet could contain: in the case of c2h_udd_en = 1:</p>
<p>udd only (udd valid, sgcnt = 0, sgl = NULL), or udd + packet data in the case of c2h_udd_en = 0: packet data (udd = NULL, sgcnt &gt; 0 and sgl valid)</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>qhndl</td>
<td>Queue handle</td>
</tr>
<tr class="row-even"><td>quld</td>
<td>Queue ID</td>
</tr>
<tr class="row-odd"><td>len</td>
<td>Packet Length</td>
</tr>
<tr class="row-even"><td>sgcnt</td>
<td>scatter gathher list count</td>
</tr>
<tr class="row-odd"><td>sgl</td>
<td>packet data in scatter-gather list</td>
</tr>
<tr class="row-even"><td>udd</td>
<td>user defined data in the completion entry</td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 to allow libqdma free/re-task the sgl &lt; 0, libqdma will keep the packet for processing again</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-fp-bypass-desc-fill">
<span id="doxid-structqdma-queue-conf-1ad2a7811fb87edc68d9b58e9aa527990d"></span><span></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_bypass_desc_fill</span> <span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="n">q_hndl</span><span class="p">,</span> <span class="k">enum</span> <span class="n">qdma_q_mode</span> <span class="n">q_mode</span><span class="p">,</span> <span class="k">enum</span> <span class="n">qdma_q_dir</span><span class="p">,</span> <span class="k">struct</span> <span class="n">qdma_request</span> <span class="o">*</span><span class="n">req</span><span class="p">)</span>
</pre>
<p>fill the all the descriptors required for transfer</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>q_hndl</td>
<td>handle with which bypass module can request back info from libqdma</td>
</tr>
<tr class="row-even"><td>q_mode</td>
<td>mode in which q is initialized</td>
</tr>
<tr class="row-odd"><td>q_dir</td>
<td>direction in which q is initialized</td>
</tr>
<tr class="row-even"><td>sgcnt</td>
<td>number of scatter gather entries for this request</td>
</tr>
<tr class="row-odd"><td>sgl</td>
<td>list of scatter gather entries</td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>On calling this API, bypass module can request for descriptor using qdma_q_desc_get and set up as many descriptors as required for each scatter gather entry. If descriptors required are not available, it can return the number of sgcnt addressed till now and return &lt;0 in case of any failure</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-fp-proc-ul-cmpt-entry">
<span id="doxid-structqdma-queue-conf-1a0077156b5e0d4071a8542bfc9e56bd26"></span><span></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_proc_ul_cmpt_entry</span> <span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="n">cmpt_entry</span><span class="p">,</span> <span class="k">struct</span> <span class="n">qdma_ul_cmpt_info</span> <span class="o">*</span><span class="n">cmpt_info</span><span class="p">)</span>
</pre>
<p>parse cmpt entry in bypass mode</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>cmpt_entry</td>
<td>cmpt entry descriptor</td>
</tr>
<tr class="row-even"><td>cmpt_info</td>
<td>parsed bypass related info from cmpt_entry</td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 for success</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-name">
<span id="doxid-structqdma-queue-conf-1a080b7077b2b749a231b544669e312003"></span><span></span><span class="kt">char</span> <span class="n">name</span> <span class="p">[</span><span class="n">QDMA_QUEUE_NAME_MAXLEN</span><span class="p">]</span>
</pre>
<p>Following fileds are filled by libqdma name of the qdma device</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-rngsz">
<span id="doxid-structqdma-queue-conf-1a3e3db4c991d653ad3daf898e091dd1e1"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">rngsz</span>
</pre>
<p>ring size of the queue</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-rngsz-cmpt">
<span id="doxid-structqdma-queue-conf-1a4f0424af6fc5612da673b902823cd83a"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">rngsz_cmpt</span>
</pre>
<p>completion ring size of the queue</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-c2h-bufsz">
<span id="doxid-structqdma-queue-conf-1ac72bca9c75c0ade6233a5d8cafb665ff"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">c2h_bufsz</span>
</pre>
<p>C2H buffer size</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-ping-pong-en">
<span id="doxid-structqdma-queue-conf-1aa265902a99ed9ecbc03e643482699ecb"></span><span></span><span class="n">u8</span> <span class="nl">ping_pong_en</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Ping Pong measurement</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-conf-aperture-size">
<span id="doxid-structqdma-queue-conf-1a5ce007662077eb7bd6bae219ef30f554"></span><span></span><span class="n">u32</span> <span class="n">aperture_size</span>
</pre>
<p>Keyhole Aperture Size</p>
</div>
<div class="section" id="struct-qdma-queue-count">
<span id="cid-qdma-queue-count"></span><span id="doxid-structqdma-queue-count"></span><span id="index-7"></span><h2>struct qdma_queue_count<a class="headerlink" href="#struct-qdma-queue-count" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>QDMA queue count</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-count-h2c-qcnt">
<span id="doxid-structqdma-queue-count-1ae73ecad7e011a0eb4351129198f3dcd8"></span><span></span><span class="n">u32</span> <span class="n">h2c_qcnt</span>
</pre>
<p>H2C queue count</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-count-c2h-qcnt">
<span id="doxid-structqdma-queue-count-1a4d7947220b57685ee3a3e06f268475d2"></span><span></span><span class="n">u32</span> <span class="n">c2h_qcnt</span>
</pre>
<p>C2H queue count</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-queue-count-cmpt-qcnt">
<span id="doxid-structqdma-queue-count-1a20a338085f83846e5aeee83bfbd4ebfa"></span><span></span><span class="n">u32</span> <span class="n">cmpt_qcnt</span>
</pre>
<p>CMPT queue count</p>
</div>
<div class="section" id="struct-qdma-request">
<span id="cid-qdma-request"></span><span id="doxid-structqdma-request"></span><span id="index-8"></span><h2>struct qdma_request<a class="headerlink" href="#struct-qdma-request" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>qdma request for read or write</p>
<span class="target" id="cid-qdma-request-pad"><span id="doxid-structqdma-request-1a37a07f70ceae5e4288abf30ac1813463"></span></span><p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-opaque">
<span id="doxid-structqdma-request-1aad50743f8c56c3cd0ff9059064d28fd5"></span><span></span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">opaque</span> <span class="p">[</span><span class="n">QDMA_REQ_OPAQUE_SIZE</span><span class="p">]</span>
</pre>
<p>private to the dma driver, do NOT touch</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-uld-data">
<span id="doxid-structqdma-request-1aaaa7248d2d481e7293c64fc48edcbdfc"></span><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">uld_data</span>
</pre>
<p>filled in by the calling function for the calling function</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-fp-done">
<span id="doxid-structqdma-request-1a204cc6cbbeefcb8a8cdebf87da7ecf99"></span><span></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">fp_done</span> <span class="p">)(</span><span class="k">struct</span> <span class="n">qdma_request</span> <span class="o">*</span><span class="n">req</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">bytes_done</span><span class="p">,</span> <span class="kt">int</span> <span class="n">err</span><span class="p">)</span>
</pre>
<p>set fp_done for non-blocking mode</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-timeout-ms">
<span id="doxid-structqdma-request-1a372ea74bbbe306452e55cae86529d4b9"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">timeout_ms</span>
</pre>
<p>timeout in mili-seconds, 0 - no timeout</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-count">
<span id="doxid-structqdma-request-1afbdffe0ae2cfa59f094d484414b60211"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span>
</pre>
<p>total data size</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-ep-addr">
<span id="doxid-structqdma-request-1ae57a1c71638332402aa653e6712a8305"></span><span></span><span class="n">u64</span> <span class="n">ep_addr</span>
</pre>
<p>MM only, DDR/BRAM memory addr</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-no-memcpy">
<span id="doxid-structqdma-request-1afcda577d1f496ec0eb83af91567bf78e"></span><span></span><span class="n">u8</span> <span class="nl">no_memcpy</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>flag to indicate if memcpy is required</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-write">
<span id="doxid-structqdma-request-1aaf4640f77ca09e2bf2216e3775d4d877"></span><span></span><span class="n">u8</span> <span class="nl">write</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>if write to the device</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-dma-mapped">
<span id="doxid-structqdma-request-1ac1355dce7c53e2a127cb072a9060692c"></span><span></span><span class="n">u8</span> <span class="nl">dma_mapped</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>if sgt is already dma mapped</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-h2c-eot">
<span id="doxid-structqdma-request-1aecd22d0d8c5febe656f35cf01c9beffe"></span><span></span><span class="n">u8</span> <span class="nl">h2c_eot</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>indicates end of transfer towards user kernel</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-check-qstate-disabled">
<span id="doxid-structqdma-request-1ad85cdc8854f2a79a092773e2efd38d9f"></span><span></span><span class="n">u8</span> <span class="nl">check_qstate_disabled</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>state check disbaled in queue pkt API</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-udd-len">
<span id="doxid-structqdma-request-1a51a8320397525100373ba5bf7f28dc20"></span><span></span><span class="n">u8</span> <span class="n">udd_len</span>
</pre>
<p>user defined data present</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-sgcnt">
<span id="doxid-structqdma-request-1aa8a652f80c8c192588a8bb1a71c720c1"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">sgcnt</span>
</pre>
<p>number of scatter-gather entries &lt; 64K</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-sgl">
<span id="doxid-structqdma-request-1aa1c9f478fceee678c16db8a367df1ec4"></span><span></span><span class="k">struct</span> <a class="reference internal" href="#doxid-structqdma-sw-sg"><span class="std std-ref">qdma_sw_sg</span></a><span></span><span class="o">*</span> <span class="n">sgl</span>
</pre>
<p>scatter-gather list of data bufs</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-request-udd">
<span id="doxid-structqdma-request-1ae9ab34bf75a56af9a3c964544d51132d"></span><span></span><span class="n">u8</span> <span class="n">udd</span> <span class="p">[</span><span class="n">QDMA_UDD_MAXLEN</span><span class="p">]</span>
</pre>
<p>udd data</p>
</div>
<div class="section" id="struct-qdma-sw-sg">
<span id="cid-qdma-sw-sg"></span><span id="doxid-structqdma-sw-sg"></span><span id="index-9"></span><h2>struct qdma_sw_sg<a class="headerlink" href="#struct-qdma-sw-sg" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>qdma scatter gather request</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-sw-sg-next">
<span id="doxid-structqdma-sw-sg-1ab8b2b733bfc270befae23b6d520878d4"></span><span></span><span class="k">struct</span> <a class="reference internal" href="#doxid-structqdma-sw-sg"><span class="std std-ref">qdma_sw_sg</span></a><span></span><span class="o">*</span> <span class="n">next</span>
</pre>
<p>pointer to next page</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-sw-sg-pg">
<span id="doxid-structqdma-sw-sg-1acc5fa51aee5e1ad7d267606bff9af737"></span><span></span><span class="k">struct</span> <span class="n">page</span><span class="o">*</span> <span class="n">pg</span>
</pre>
<p>pointer to current page</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-sw-sg-offset">
<span id="doxid-structqdma-sw-sg-1a06cc841f6346cc20f1cc21fef6bcd553"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">offset</span>
</pre>
<p>offset in current page</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-sw-sg-len">
<span id="doxid-structqdma-sw-sg-1a0731ded530a969f19abdff2773fa422c"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">len</span>
</pre>
<p>length of the page</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-sw-sg-dma-addr">
<span id="doxid-structqdma-sw-sg-1a7daec386d7e7355b7767660be7861ace"></span><span></span><span class="n">dma_addr_t</span> <span class="n">dma_addr</span>
</pre>
<p>dma address of the allocated page</p>
</div>
<div class="section" id="struct-qdma-ul-cmpt-info">
<span id="cid-qdma-ul-cmpt-info"></span><span id="doxid-structqdma-ul-cmpt-info"></span><span id="index-10"></span><h2>struct qdma_ul_cmpt_info<a class="headerlink" href="#struct-qdma-ul-cmpt-info" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>Completion entry format</p>
<p>Completion Entry is user logic dependent Current SW supported the following completion entry format</p>
<span class="target" id="cid-qdma-ul-cmpt-info-1"><span id="doxid-structqdma-ul-cmpt-info-1ab5e770de05c85d392bba3d299088d5af"></span><span id="cid-qdma-ul-cmpt-info-f"></span><span id="doxid-structqdma-ul-cmpt-info-1a95b9e437786b95f2ce9277ef626d3209"></span></span><p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-fbits">
<span id="doxid-structqdma-ul-cmpt-info-1a319f73bfa85a006d7402d87a429ca74d"></span><span></span><span class="n">u8</span> <span class="n">fbits</span>
</pre>
<p>Flag bits</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-format">
<span id="doxid-structqdma-ul-cmpt-info-1a0575d0f72bb4004bd0c81e329e8d7ab8"></span><span></span><span class="n">u8</span> <span class="nl">format</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Format of the entry</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-color">
<span id="doxid-structqdma-ul-cmpt-info-1a06f3354942311f0404eac2fa83fdba54"></span><span></span><span class="n">u8</span> <span class="nl">color</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates the validity of the entry</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-err">
<span id="doxid-structqdma-ul-cmpt-info-1aa10a0a130ec850f97983bc5ecd46d439"></span><span></span><span class="n">u8</span> <span class="nl">err</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates the error status</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-desc-used">
<span id="doxid-structqdma-ul-cmpt-info-1abcfffeda190bc401af358c641787e28a"></span><span></span><span class="n">u8</span> <span class="nl">desc_used</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates the descriptor used status</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-eot">
<span id="doxid-structqdma-ul-cmpt-info-1aad9caeb082e420f7ed189a8f6a0ff12e"></span><span></span><span class="n">u8</span> <span class="nl">eot</span> <span class="p">:</span><span class="mi">1</span>
</pre>
<p>Indicates the end of transfer</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-filler">
<span id="doxid-structqdma-ul-cmpt-info-1a6fb816ffe8cdcf67d48809c6993655b5"></span><span></span><span class="n">u8</span> <span class="nl">filler</span> <span class="p">:</span><span class="mi">3</span>
</pre>
<p>Filler bits</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-rsvd">
<span id="doxid-structqdma-ul-cmpt-info-1a8bdebf2a86f01569f05ee3d256ea1df2"></span><span></span><span class="n">u8</span> <span class="n">rsvd</span>
</pre>
<p>Reserved filed added for structure alignment</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-len">
<span id="doxid-structqdma-ul-cmpt-info-1a6d1114401843edb7ddf8fb7861e8b5ba"></span><span></span><span class="n">u16</span> <span class="n">len</span>
</pre>
<p>Length of the completion entry</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-pidx">
<span id="doxid-structqdma-ul-cmpt-info-1a2d4baac6f400430ab8cb3dbadd37348f"></span><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">pidx</span>
</pre>
<p>Producer Index</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-ul-cmpt-info-entry">
<span id="doxid-structqdma-ul-cmpt-info-1aca877a815ec1d127f130541571d5dc9c"></span><span></span><span class="n">__be64</span><span class="o">*</span> <span class="n">entry</span>
</pre>
<p>Completion entry</p>
</div>
<div class="section" id="struct-qdma-version-info">
<span id="cid-qdma-version-info"></span><span id="doxid-structqdma-version-info"></span><span id="index-11"></span><h2>struct qdma_version_info<a class="headerlink" href="#struct-qdma-version-info" title="Permalink to this headline">¶</a></h2>
<pre class="highlight overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;libqdma_export.h&quot;</span>
</pre>
<p class="rubric">Overview</p>
<p>defines the per-device version information</p>
<p class="rubric">Fields</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-version-info-rtl-version-str">
<span id="doxid-structqdma-version-info-1a9dbdafa1178e24fcf3a3884d108ea3f5"></span><span></span><span class="kt">char</span> <span class="n">rtl_version_str</span> <span class="p">[</span><span class="n">DEVICE_VERSION_INFO_STR_LENGTH</span><span class="p">]</span>
</pre>
<p>Version string</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-version-info-vivado-release-str">
<span id="doxid-structqdma-version-info-1af428d093fe3e43f44e9d7c2db8f21c58"></span><span></span><span class="kt">char</span> <span class="n">vivado_release_str</span> <span class="p">[</span><span class="n">DEVICE_VERSION_INFO_STR_LENGTH</span><span class="p">]</span>
</pre>
<p>Release string</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-version-info-ip-str">
<span id="doxid-structqdma-version-info-1aa31b441b7c819d64e7b720dd4b31a61d"></span><span></span><span class="kt">char</span> <span class="n">ip_str</span> <span class="p">[</span><span class="n">DEVICE_VERSION_INFO_STR_LENGTH</span><span class="p">]</span>
</pre>
<p>IP version string</p>
<pre class="highlight title-code-block literal-block" id="cid-qdma-version-info-device-type-str">
<span id="doxid-structqdma-version-info-1a2489509cb87f0824c06010ea1b2a8674"></span><span></span><span class="kt">char</span> <span class="n">device_type_str</span> <span class="p">[</span><span class="n">DEVICE_VERSION_INFO_STR_LENGTH</span><span class="p">]</span>
</pre>
<p>Qdma device type string</p>
<p class="rubric">Overview</p>
<p>Global Variables</p>
<pre class="highlight title-code-block literal-block" id="cid-mode-name-list">
<span id="doxid-group-libqdma-struct-1ga0273499757d4829ebbb4a5d0b682292e"></span><span></span><span class="k">struct</span> <a class="reference internal" href="#doxid-structdrv-mode-name"><span class="std std-ref">drv_mode_name</span></a><span></span> <span class="n">mode_name_list</span> <span class="p">[]</span>
</pre>
<p>Externel structure definition mode_name_list</p>
<pre class="highlight title-code-block literal-block" id="cid-q-type-list">
<span id="doxid-group-libqdma-struct-1ga5dc4f80a3b9e9ba8b4281f08df757748"></span><span></span><span class="k">struct</span> <a class="reference internal" href="#doxid-structqdma-q-type"><span class="std std-ref">qdma_q_type</span></a><span></span> <span class="n">q_type_list</span> <span class="p">[]</span>
</pre>
<p>Externel structure definition q_type_list</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->

</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qdma_linux_export_functions.html" class="btn btn-neutral float-right" title="Global Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qdma_linux_export_enums.html" class="btn btn-neutral float-left" title="Enumerations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on February 01, 2023.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2022-2023 Advanced Micro Devices Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>