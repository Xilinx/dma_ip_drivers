

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>System Requirements &mdash; QDMA Linux Driver 2019.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="QDMA Linux Driver 2019.2 documentation" href="index.html"/>
        <link rel="next" title="Building and Installing Software Stack" href="build.html"/>
        <link rel="prev" title="QDMA Features" href="features.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> QDMA Linux Driver
          

          
          </a>

          
            
            
              <div class="version">
                2019.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">QDMA Features</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">System Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xilinx-accelerator-card">Xilinx Accelerator Card</a></li>
<li class="toctree-l2"><a class="reference internal" href="#host-platform">Host Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="#host-system-configuration">Host System Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guest-system-configuration">Guest System Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-linux-distributions">Supported Linux Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-kernel-versions">Supported Kernel Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes-about-gcc-versions">Notes about GCC versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notes-about-iommu">Notes about iommu</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building and Installing Software Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-app.html">User Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="devguide.html">Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">QDMA Performance</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QDMA Linux Driver</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>System Requirements</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/system-requirements.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-requirements">
<span id="sys-req"></span><h1>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h1>
<div class="section" id="xilinx-accelerator-card">
<h2>Xilinx Accelerator Card<a class="headerlink" href="#xilinx-accelerator-card" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>VCU1525</li>
<li>U200</li>
</ol>
</div>
<div class="section" id="host-platform">
<h2>Host Platform<a class="headerlink" href="#host-platform" title="Permalink to this headline">¶</a></h2>
<p>x86_64 host system with at least one Gen 3x16 PCIe slot and minimum 64GB RAM
on same CPU node for 2K queues.
For VM testing, host system must support virtualization and it must be enabled in the BIOS.</p>
</div>
<div class="section" id="host-system-configuration">
<h2>Host System Configuration<a class="headerlink" href="#host-system-configuration" title="Permalink to this headline">¶</a></h2>
<p>Linux QDMA Driver release is verified on following Host system configuration for PF and VF functionality</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Host System</th>
<th class="head">Configuration Details</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Operating System</td>
<td>Ubuntu 18.04 LTS</td>
</tr>
<tr class="row-odd"><td>Linux Kernel</td>
<td>4.15.0-23-generic</td>
</tr>
<tr class="row-even"><td>RAM</td>
<td>64GB on local NUMA node</td>
</tr>
<tr class="row-odd"><td>Hypervisor</td>
<td>KVM</td>
</tr>
<tr class="row-even"><td>Qemu Version</td>
<td>QEMU emulator version 2.5.0 (Debian 1:2.5+dfsg-5ubuntu10.15)</td>
</tr>
</tbody>
</table>
<p><strong>Notes</strong>:</p>
<ul class="simple">
<li>When assigning the 2048 queues to PFs users shall make sure the host system configuration meets the requirement given above. If users want to enable iommu(iommu=on), make sure suffiecient memory available to support the 2048 queues. If the memory is not sufficient, <code class="docutils literal"><span class="pre">dma_alloc_coherent</span></code> kernel call may fail and driver might not work.</li>
<li>QEMU is a hosted virtual machine monitor which emulates the machine’s processor through dynamic binary translation and provides a set of different hardware and device models for the machine, enabling it to run a variety of guest operating systems.This is used to emulate the virtual machines and enables the users to attach virtual functions to virtual machines.</li>
</ul>
</div>
<div class="section" id="guest-system-configuration">
<h2>Guest System Configuration<a class="headerlink" href="#guest-system-configuration" title="Permalink to this headline">¶</a></h2>
<p>Linux QDMA VF Driver release is verified on following Guest system configuration for VF functionality</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Guest System(VM)</th>
<th class="head">Configuration Details</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Operating System</td>
<td>Ubuntu 18.04 LTS</td>
</tr>
<tr class="row-odd"><td>Linux Kernel</td>
<td>4.15.1-20-generic</td>
</tr>
<tr class="row-even"><td>RAM</td>
<td>4GB</td>
</tr>
<tr class="row-odd"><td>Cores</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="supported-linux-distributions">
<h2>Supported Linux Distributions<a class="headerlink" href="#supported-linux-distributions" title="Permalink to this headline">¶</a></h2>
<p>Linux QDMA Driver is supported on the following linux distributions</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="34%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Linux Distribution</th>
<th class="head">Version</th>
<th class="head">Kernel Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td rowspan="3">CentOS</td>
<td>7.5-1804</td>
<td>3.10.0-862</td>
</tr>
<tr class="row-odd"><td>7.6-1810</td>
<td>3.10.0-957</td>
</tr>
<tr class="row-even"><td>7.7-1908</td>
<td>3.10.0-1062</td>
</tr>
<tr class="row-odd"><td rowspan="3">Fedora</td>
<td>28</td>
<td>4.16</td>
</tr>
<tr class="row-even"><td>29</td>
<td>4.18</td>
</tr>
<tr class="row-odd"><td>30</td>
<td>5.0</td>
</tr>
<tr class="row-even"><td rowspan="2">Ubuntu</td>
<td>16.04</td>
<td>4.10</td>
</tr>
<tr class="row-odd"><td>18.04</td>
<td>4.15.0-23</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="supported-kernel-versions">
<h2>Supported Kernel Versions<a class="headerlink" href="#supported-kernel-versions" title="Permalink to this headline">¶</a></h2>
<p>Linux QDMA Driver is verified on following kernel.org Linux kernel versions</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Kernel.org</th>
<th class="head">Kernel Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td rowspan="5">&#160;</td>
<td>3.16.66</td>
</tr>
<tr class="row-odd"><td>4.4.196</td>
</tr>
<tr class="row-even"><td>4.9.174</td>
</tr>
<tr class="row-odd"><td>4.14.117</td>
</tr>
<tr class="row-even"><td>5.3</td>
</tr>
</tbody>
</table>
<p>The following kernel functions shall be included in the OS kernel version being used. Make sure that these functions are included in the kernel.</p>
<ul class="simple">
<li>Timer Functions</li>
<li>PCIe Functions</li>
<li>Kernel Memory functions</li>
<li>Memory and GFP Functions</li>
</ul>
</div>
<div class="section" id="notes-about-gcc-versions">
<h2>Notes about GCC versions<a class="headerlink" href="#notes-about-gcc-versions" title="Permalink to this headline">¶</a></h2>
<p><strong>Issue#1</strong>: For Kernel Images &gt; 4.9.199 with CONFIG_STACK_VALIDATION=y and GCC version &gt; 8 compiler throws spurious warnings
related to sibling calls and frame pointer save/setup.</p>
<p><strong>Solution#1</strong>: To suppress these warnings
enable the OBJECT_FILES_NON_STANDARD option in linux/drv/Makefile</p>
<p><strong>Issue#2</strong>: Compilation failure on GCC 9</p>
<p><strong>Solution#2</strong>: GCC 9 release adds the -Wmissing-attributes warnings (enabled by -Wall), which trigger for all the initialization/cleanup_module
aliases in the kernel (defined by the module_init/exit macros), ending up being very noisy.</p>
<p>These aliases point to the __init/__exit functions of a module, which are defined as __cold (among other attributes). However, if
the aliases themselves do not have the __cold attribute, this causes compilation failure for driver if used with Kernel Versions &lt; 3.16.66 mentioned
in the supported kernels list above or if the Kernel Source doesn’t have the fix for this which are there in the long term releases.</p>
</div>
<div class="section" id="notes-about-iommu">
<h2>Notes about iommu<a class="headerlink" href="#notes-about-iommu" title="Permalink to this headline">¶</a></h2>
<p>When <code class="docutils literal"><span class="pre">iommu=on</span></code>, adding 2048 queues to the functions on a Host System results in <code class="docutils literal"><span class="pre">dma_alloc_coherent</span></code> API failure. To avoid this issue, allocate piece of physically contiguous reserved memory using the <code class="docutils literal"><span class="pre">cma</span></code> boot arguments.</p>
<p>Ex: <code class="docutils literal"><span class="pre">cma=4096M&#64;0-6G</span></code></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build.html" class="btn btn-neutral float-right" title="Building and Installing Software Stack" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="features.html" class="btn btn-neutral" title="QDMA Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Xilinx, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2019.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>